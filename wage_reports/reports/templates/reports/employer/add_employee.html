{% extends "base.html" %}
{% block content %}
<h1>Add a New Employee</h1>

{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

<form action="{% url 'reports:add_employee' %}" method="post">
    {% csrf_token %}
    {{ form }}
    <br>
    {{ form_registration }}
    <input type="submit" value="Add a New Employee" />
</form>

<script type="text/javascript">

function IDValidator(id)
{
	id += ""; //cast as string
	if (id.length != 9 || isNaN(id)) {
		return false;
	}
	var counter = 0, incNum;
	for (i in id) {
		incNum = Number(id[i]) * ((i % 2) + 1);//multiply digit by 1 or 2
		counter += (incNum > 9) ? incNum - 9 : incNum;//sum the digits up and add to counter
	}
	return (counter % 10 == 0);
}
$('#id_government_id').change(function(e){ if( ! IDValidator($('#id_government_id').val())){ alert('bad id') }   });
</script>

{% endblock content %}